{% macro login(form, csrf_input, next=None) %}
    <div class="Login">
        {# <div class="Login-icon"><img src="/static/img/login/ej-cat.svg"></div> #}
        <h1 class="Login-title">Participe dos debates, contribua para promover e defender seus direitos</h1>

        <form method="post">
            {{ csrf_input }}
            <div><input type="text" name="email" required placeholder="login ou email"></div>
            {{ form.email.errors }}

            <div><input type="password" name="password" required placeholder="senha"></div>
            {{ form.password.errors }}

            <div><input type="submit" class="Button" value="{{ _('Login') }}" name="login"></div>
            {{ form.non_field_errors() }}
            {% if social_buttons %}
                {{ login_extra }}
                {{ social_options(social_buttons) }}
            {% endif %}
            <div class="Login-newUser">
                {% set msg = _('Register') if is_login|default(False) else _('Login') %}
                <h1>{{ settings.EJ_REGISTER_TEXT }}</h1>
                <p><a class="Button" href="{{ '/register/' + ('?next=' + next if next else '') }}"
                      primary>{{ _('Register now!') }}</a></p>
            </div>
        </form>
    </div>
{% endmacro %}


{% macro register(form, social_buttons, csrf_input) %}
    <div class="Register">
        <h1 class="Register-title">Cadastrar novo usu√°rio</h1>

        <form method="post">
            {{ csrf_input }}
            {% for field in form %}
                {{ field }}
                {{ field.errors }}
            {% endfor %}

            <div><input type="submit" value="{{ _('Register now!') }}" class="Button" name="register"></div>
            {{ form.non_field_errors() }}
        </form>
        {{ social_options(social_buttons) }}
        {# {{ login_options('/login/', _('Login'), 'Faz parte do EJ?') }} #}
    </div>
{% endmacro %}


{% macro login_options(button_href, button_msg, title) %}
    <p class="Login-password"><a href="/profile/recover-password/">Esqueci minha senha</a></p>
    <p>Ou logue-se por outras redes</p>
    <div class="Login-socialButtons">
        <img src="/static/img/login/google-color.svg" class="icon-google rounded-icon"></img>
        <i class="fab fa-facebook icon-facebook rounded-icon"></i>
        <i class="fab fa-twitter icon-twitter rounded-icon"></i>
    </div>
    <div class="Login-newUser">
        {% set msg = _('Register') if is_login|default(False) else _('Login') %}
        <h1>{{ title }}</h1>
        <p><a class="Button" href="{{ button_href }}" primary>{{ button_msg }}</a></p>
    </div>
{% endmacro %}


{% macro passwordless_template() %}
    <template id="Login-passwordless">
        <h1>{{ _('What is passwordles login?') }}</h1>
        <p>{% trans %}Passwords are inconvenient and often insecure. We suggest our users to choose either social
            authentication (Facebook or Twitter) or the passwordless method. In this setup, we send a password to
            your e-mail with a special link that automatically register your account in the platform.{% endtrans %}</p>
    </template>
{% endmacro %}


{% macro social_options(social_buttons) %}
    <p>{% trans %}Social login{% endtrans %}</p>
    <div class="Login-socialButtons">
        {% for button in social_buttons %}
            {{ button }}
        {% endfor %}
    </div>
{% endmacro %}
