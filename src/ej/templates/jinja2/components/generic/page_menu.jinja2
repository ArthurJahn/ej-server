{% from 'components/generic/elements.jinja2' import link %}


{% macro menu(user) %}
    <nav class="NavMenu">
        <ul>
            <li><em>{{ icon_link(_('About'), '/about-us/', 'far fa-comment') }}</em></li>
            <li><em>{{ icon_link(_('FAQ'), '/faq/', 'far fa-question-circle') }}</em></li>
            <li><em>{{ icon_link(_('Usage terms'), '/usage/', 'far fa-file-alt') }}</em></li>
        {% if not user.is_active %}    
            <li>{{ icon_link(_('Conversations'), '/conversations/', 'conversations', fa=False) }}</li>
        {% endif %}
        {% if not user.is_staff%}
            <li>{{ icon_link(_('Conversations'), '/conversations/', 'conversations', fa=False) }}
                <i class="fas fa-angle-down fa-2x NavMenu-DropDown" onclick="openDropDown()"></i>
                <ul class="NavMenu-UserMenu">
                <li>{{_('Public conversations')}}</li>
                <li>{{_('Your conversations')}}</li>
                </ul>
            </li>
        {% else %}
            <li>{{ icon_link(_('Conversations'), '/conversations/', 'conversations', fa=False) }}
                <i class="fas fa-angle-down fa-2x NavMenu-DropDown" onclick="openDropDown()"></i>
                <ul class="NavMenu-UserMenu">
                <li>{{_('Public conversations')}}</li>
                <li>{{_('Your conversations')}}</li>
                <li>{{_('Add conversation')}}</li>
                <li>{{_('Favorite conversations')}}</li>
                <li>{{_('Manage conversations')}}</li>
                <li>{{_('Manage stereotypes')}}</li>
                <li>{{_('Request reports')}}</li>
                </ul>
            </li>
        {% endif %}
    
            <li>{{ icon_link(_('Talks'), '/talks/', 'talks', fa=False) }}</li>
            <li>{{ icon_link(_('Profile'), '/profile/', 'profile', fa=False) }}</li>
            <li><em>{{ icon_link(_('Home'), '/', 'fa fa-home') }}</em></li>
        </ul>
    </nav>
{% endmacro %}


{% macro icon_link(text, href, icon, fa=True) %}
    {%- call link(href) %}
        {%- if fa %}<i class="{{ icon }}"></i>
        {%- else %}<img src="/static/img/menu/{{ icon }}.svg">
        {%- endif %}{{ text }}
    {% endcall %}
{% endmacro %}
